{"version":3,"file":"index.js","sources":["../src/context/sessionContext/index.tsx","../src/components/file/index.tsx","../src/hooks/useDataset/index.tsx","../src/context/datasetContext/index.tsx","../src/context/thingContext/index.tsx","../src/helpers/index.ts","../src/hooks/useFile/index.tsx","../src/components/image/index.tsx","../src/components/value/datetime/index.tsx","../src/components/value/string/index.tsx","../src/components/value/boolean/index.tsx","../src/components/value/url/index.tsx","../src/components/value/integer/index.tsx","../src/components/value/decimal/index.tsx","../src/components/value/index.tsx","../src/components/link/index.tsx","../src/components/logIn/index.tsx","../src/components/logOut/index.tsx","../src/context/combinedDataContext/index.tsx","../src/components/table/index.tsx","../src/components/text/index.tsx","../src/components/video/index.tsx","../src/hooks/useSession/index.tsx","../src/hooks/useThing/index.tsx"],"sourcesContent":["/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, {\n  createContext,\n  ReactElement,\n  useState,\n  SetStateAction,\n  Dispatch,\n  useEffect,\n  ReactNode,\n} from \"react\";\n\nimport {\n  fetch,\n  login,\n  logout,\n  handleIncomingRedirect,\n  Session,\n  getDefaultSession,\n  onSessionRestore as onSessionRestoreClient,\n} from \"@inrupt/solid-client-authn-browser\";\n\nimport {\n  SolidDataset,\n  getProfileAll,\n  ProfileAll,\n  WithServerResourceInfo,\n} from \"@inrupt/solid-client\";\n\nexport interface ISessionContext {\n  login: typeof login;\n  logout: typeof logout;\n  session: Session;\n  sessionRequestInProgress: boolean;\n  setSessionRequestInProgress?: Dispatch<SetStateAction<boolean>> | any;\n  fetch: typeof window.fetch;\n  profile: ProfileAll<SolidDataset & WithServerResourceInfo> | undefined;\n}\n\nexport const SessionContext = createContext<ISessionContext>({\n  login,\n  logout,\n  fetch,\n  session: getDefaultSession(),\n  sessionRequestInProgress: true,\n  profile: undefined,\n});\n\n/* eslint react/require-default-props: 0 */\nexport interface ISessionProvider {\n  children: ReactNode;\n  sessionId?: string;\n  sessionRequestInProgress?: boolean;\n  onError?: (error: Error) => void;\n  /** @since 2.3.0 */\n  restorePreviousSession?: boolean;\n  /** @since 2.3.0 */\n  onSessionRestore?: (url: string) => void;\n  /**\n   * @since 2.8.2\n   * @experimental\n   * */\n  skipLoadingProfile?: boolean;\n}\n\n/**\n * Used to provide session data to child components through context, as used by various provided components and the useSession hook.\n */\nexport const SessionProvider = ({\n  sessionId,\n  children,\n  onError,\n  sessionRequestInProgress: defaultSessionRequestInProgress,\n  restorePreviousSession,\n  skipLoadingProfile,\n  onSessionRestore,\n}: ISessionProvider): ReactElement => {\n  const restoreSession =\n    restorePreviousSession || typeof onSessionRestore !== \"undefined\";\n  const [session, setSession] = useState<Session>(getDefaultSession);\n  const [profile, setProfile] =\n    useState<ProfileAll<SolidDataset & WithServerResourceInfo>>();\n\n  useEffect(() => {\n    if (onSessionRestore !== undefined) {\n      onSessionRestoreClient(onSessionRestore);\n    }\n  }, [onSessionRestore]);\n\n  const defaultInProgress =\n    typeof defaultSessionRequestInProgress === \"undefined\"\n      ? !session.info.isLoggedIn\n      : defaultSessionRequestInProgress;\n\n  // If loggedin is true, we're not making a session request.\n  const [sessionRequestInProgress, setSessionRequestInProgress] =\n    useState(defaultInProgress);\n\n  let currentLocation;\n\n  if (typeof window !== \"undefined\") {\n    currentLocation = window.location;\n  }\n  useEffect(() => {\n    handleIncomingRedirect({\n      url: window.location.href,\n      restorePreviousSession: restoreSession,\n    })\n      .then(async (sessionInfo) => {\n        if (skipLoadingProfile === true) {\n          return;\n        }\n\n        // If handleIncomingRedirect logged the session in, we know what the current\n        // user's WebID is.\n        if (sessionInfo?.webId !== undefined) {\n          const profiles = await getProfileAll(sessionInfo?.webId, {\n            fetch: session.fetch,\n          });\n\n          setProfile(profiles);\n        }\n      })\n      .catch((error: Error) => {\n        if (onError) {\n          onError(error as Error);\n        } else {\n          throw error;\n        }\n      })\n      .finally(() => {\n        // console.log(\"done\");\n        setSessionRequestInProgress(false);\n      });\n\n    getDefaultSession().on(\"logout\", () => {\n      // TODO force a refresh\n      setSession(getDefaultSession());\n    });\n  }, [\n    session,\n    sessionId,\n    onError,\n    currentLocation,\n    restoreSession,\n    skipLoadingProfile,\n  ]);\n\n  const contextLogin = async (options: Parameters<typeof login>[0]) => {\n    setSessionRequestInProgress(true);\n\n    try {\n      await login(options);\n    } catch (error) {\n      if (onError) {\n        onError(error as Error);\n      } else {\n        throw error;\n      }\n    } finally {\n      setSessionRequestInProgress(false);\n    }\n  };\n\n  const contextLogout = async () => {\n    try {\n      await logout();\n      setProfile(undefined);\n    } catch (error) {\n      if (onError) {\n        onError(error as Error);\n      } else {\n        throw error;\n      }\n    }\n  };\n\n  return (\n    <SessionContext.Provider\n      value={{\n        session,\n        login: contextLogin,\n        logout: contextLogout,\n        sessionRequestInProgress,\n        setSessionRequestInProgress,\n        fetch,\n        profile,\n      }}\n    >\n      {children}\n    </SessionContext.Provider>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useContext } from \"react\";\nimport {\n  Url,\n  UrlString,\n  saveFileInContainer,\n  WithResourceInfo,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport type Props = {\n  saveLocation: Url | UrlString;\n  inputProps?: Omit<React.InputHTMLAttributes<HTMLInputElement>, \"multiple\">;\n  autosave?: boolean;\n  onSave?: (savedFile?: File & WithResourceInfo) => void;\n  onError?: (error: Error) => void;\n};\n\nexport function FileUpload({\n  saveLocation,\n  onError,\n  onSave,\n  inputProps,\n  autosave,\n}: Props & React.HTMLAttributes<HTMLSpanElement>): ReactElement {\n  const { fetch } = useContext(SessionContext);\n\n  const handleChange = async (e: React.FormEvent<HTMLInputElement>) => {\n    const target = e.target as HTMLInputElement;\n\n    // This is a typescript bug, as target.files should always be a FileList:\n    if (!target.files) {\n      return;\n    }\n\n    if (!autosave) {\n      return;\n    }\n\n    try {\n      const savedFile = await saveFileInContainer(\n        saveLocation,\n        target.files[0],\n        {\n          slug: target.files[0].name ? target.files[0].name : undefined,\n          fetch,\n        }\n      );\n      if (onSave) {\n        onSave(savedFile);\n      }\n    } catch (saveError) {\n      if (onError) {\n        onError(saveError as Error);\n      }\n    }\n  };\n\n  return (\n    <>\n      <input\n        type=\"file\"\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...inputProps}\n        onChange={(e) => handleChange(e)}\n        data-testid=\"form-input\"\n      />\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useContext } from \"react\";\nimport useSWR from \"swr\";\nimport { getSolidDataset, SolidDataset } from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport DatasetContext from \"../../context/datasetContext\";\n\nexport default function useDataset(\n  datasetIri?: string | null | undefined,\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n  options?: any\n): {\n  dataset: SolidDataset | undefined;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  error: any;\n} {\n  const { fetch } = useContext(SessionContext);\n  const { solidDataset: datasetFromContext } = useContext(DatasetContext);\n  const { data, error } = useSWR(\n    datasetIri ? [datasetIri, options, fetch] : null,\n    () => {\n      const requestOptions = {\n        fetch,\n        ...options,\n      };\n      // useSWR will only call this fetcher if datasetUri is defined\n      return getSolidDataset(datasetIri as string, requestOptions);\n    }\n  );\n\n  const dataset = datasetIri ? (data as SolidDataset) : datasetFromContext;\n  return { dataset, error };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext, ReactElement, useState, useEffect } from \"react\";\nimport {\n  SolidDataset,\n  WithResourceInfo,\n  UrlString,\n} from \"@inrupt/solid-client\";\n\nimport useDataset from \"../../hooks/useDataset\";\n\nexport interface IDatasetContext {\n  solidDataset: SolidDataset | (SolidDataset & WithResourceInfo) | undefined;\n  setDataset: (solidDataset: SolidDataset) => void;\n}\n\nconst DatasetContext = createContext<IDatasetContext>({\n  solidDataset: undefined,\n  setDataset: () => {},\n});\n\nexport default DatasetContext;\n\nexport interface IDatasetProvider {\n  children: React.ReactNode;\n  /**\n   * @deprecated `loading` is deprecated. It can still be used but may be removed in a future major release.`loadingComponent` should be used instead.\n   */\n  loading?: React.ReactNode;\n  loadingComponent?: React.ComponentType | null;\n  onError?(error: Error): void | null;\n  solidDataset?: SolidDataset | (SolidDataset & WithResourceInfo);\n  datasetUrl?: UrlString | string;\n}\n\nexport type RequireProperty<T, Prop extends keyof T> = T & {\n  [key in Prop]-?: T[key];\n};\n\nexport type RequireDatasetOrDatasetUrl =\n  | RequireProperty<IDatasetProvider, \"solidDataset\">\n  | RequireProperty<IDatasetProvider, \"datasetUrl\">;\n\n/**\n * Used to provide a [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset) to child components through context, as used by various provided components and the useDataset hook.\n */\nexport const DatasetProvider = ({\n  children,\n  onError,\n  solidDataset: propDataset,\n  datasetUrl,\n  loading,\n  loadingComponent: LoadingComponent,\n}: RequireDatasetOrDatasetUrl): ReactElement => {\n  const { dataset, error } = useDataset(datasetUrl);\n\n  if (error && onError) {\n    onError(error);\n  }\n\n  const datasetToUse = propDataset ?? dataset;\n\n  // Provide a setDataset function so that child components can update.\n  const [stateDataset, setDataset] = useState<\n    SolidDataset | (SolidDataset & WithResourceInfo) | undefined\n  >(datasetToUse);\n\n  // If the dataset is asynchronously loaded, make sure to set the new state value.\n  useEffect(() => {\n    setDataset(datasetToUse);\n  }, [datasetToUse]);\n\n  let loader: JSX.Element | React.ReactNode | null = (LoadingComponent && (\n    <LoadingComponent />\n  )) ||\n    loading || <span>Fetching data...</span>;\n\n  if (LoadingComponent === null) {\n    loader = null;\n  }\n\n  return (\n    <DatasetContext.Provider value={{ solidDataset: stateDataset, setDataset }}>\n      {stateDataset ? children : loader}\n    </DatasetContext.Provider>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, {\n  createContext,\n  ReactElement,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { Thing, UrlString, getThing } from \"@inrupt/solid-client\";\nimport DatasetContext from \"../datasetContext\";\n\nexport interface IThingContext {\n  thing?: Thing | null;\n  setThing: (thing: Thing) => void;\n}\n\nconst ThingContext = createContext<IThingContext>({\n  thing: null,\n  setThing: () => {},\n});\n\nexport default ThingContext;\n\nexport interface IThingProvider {\n  children: React.ReactNode;\n  thing?: Thing | null;\n  thingUrl?: UrlString | string;\n}\n\nexport type RequireProperty<T, Prop extends keyof T> = T & {\n  [key in Prop]-?: T[key];\n};\n\nexport type RequireThingOrThingUrl =\n  | RequireProperty<IThingProvider, \"thing\">\n  | RequireProperty<IThingProvider, \"thingUrl\">;\n\n/**\n * Used to provide a Thing to child components through context, as used by various provided components and the useThing hook.\n */\nexport const ThingProvider = ({\n  children,\n  thing: propThing,\n  thingUrl,\n}: RequireThingOrThingUrl): ReactElement => {\n  const { solidDataset } = useContext(DatasetContext);\n  let thing = propThing;\n\n  if (solidDataset && thingUrl) {\n    thing = getThing(solidDataset, thingUrl);\n  }\n\n  // Allow child components to update the thing\n  const [stateThing, setThing] = useState<Thing | null>(thing || null);\n\n  // Reset the thing if the dataset changes.\n  useEffect(() => {\n    if (solidDataset && thingUrl) {\n      setThing(getThing(solidDataset, thingUrl));\n    } else if (propThing) {\n      setThing(propThing);\n    }\n  }, [solidDataset, thingUrl, propThing]);\n\n  return (\n    <ThingContext.Provider value={{ thing: stateThing, setThing }}>\n      {children}\n    </ThingContext.Provider>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport {\n  overwriteFile as solidOverwriteFile,\n  getFile,\n  Thing,\n  SolidDataset,\n  UrlString,\n  Url,\n  getBoolean,\n  getDatetime,\n  getDecimal,\n  getInteger,\n  getUrl,\n  getStringNoLocale,\n  getStringWithLocale,\n  getBooleanAll,\n  getDatetimeAll,\n  getDecimalAll,\n  getIntegerAll,\n  getStringNoLocaleAll,\n  getStringWithLocaleAll,\n  getUrlAll,\n  getSolidDataset,\n} from \"@inrupt/solid-client\";\n\nimport { useContext, useEffect, useState } from \"react\";\n\nimport ThingContext from \"../context/thingContext\";\nimport DatasetContext from \"../context/datasetContext\";\n\nexport type CommonProperties = {\n  thing?: Thing;\n  solidDataset?: SolidDataset;\n  property?: Url | UrlString;\n  properties?: Url[] | UrlString[];\n  edit?: boolean;\n  autosave?: boolean;\n  onSave?: (savedDataset?: SolidDataset, savedThing?: Thing) => void;\n  onError?: (error: Error) => void;\n};\n\nexport const overwriteFile = async (\n  src: string,\n  file: File,\n  input: EventTarget & HTMLInputElement,\n  fetch: typeof window.fetch,\n  maxSize?: number,\n  onSave?: () => void,\n  onError?: (error: Error) => void\n): Promise<string | null> => {\n  try {\n    if (maxSize !== undefined && file.size > maxSize * 1024) {\n      input.setCustomValidity(\n        `The selected file must not be larger than ${maxSize}kB`\n      );\n      input.reportValidity();\n      return null;\n    }\n    input.setCustomValidity(\"\");\n    await solidOverwriteFile(src, file, { fetch });\n    if (onSave) {\n      onSave();\n    }\n    const objectUrl = URL.createObjectURL(file);\n    return objectUrl;\n  } catch (error) {\n    if (onError) {\n      onError(error as Error);\n    }\n    return null;\n  }\n};\n\nexport const retrieveFile = async (\n  src: string,\n  fetch: typeof window.fetch\n): Promise<Blob> => {\n  const imageBlob = await getFile(src, { fetch });\n  return imageBlob;\n};\n\nexport type DataType =\n  | \"boolean\"\n  | \"datetime\"\n  | \"decimal\"\n  | \"integer\"\n  | \"string\"\n  | \"url\";\n\nexport function getValueByType(\n  type: \"boolean\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getBoolean>;\n\nexport function getValueByType(\n  type: \"datetime\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDatetime>;\n\nexport function getValueByType(\n  type: \"decimal\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDecimal>;\n\nexport function getValueByType(\n  type: \"integer\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getInteger>;\n\nexport function getValueByType(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocale>;\n\nexport function getValueByType(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url,\n  locale: string\n): ReturnType<typeof getStringWithLocale>;\n\nexport function getValueByType(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocale>;\n\nexport function getValueByType(\n  type: \"url\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getUrl>;\n\nexport function getValueByType(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): string | boolean | number | Date | null;\n\nexport function getValueByType(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): string | boolean | number | Date | null {\n  switch (type) {\n    case \"boolean\":\n      return getBoolean(thing, property);\n    case \"datetime\":\n      return getDatetime(thing, property);\n    case \"decimal\":\n      return getDecimal(thing, property);\n    case \"integer\":\n      return getInteger(thing, property);\n    case \"url\":\n      return getUrl(thing, property);\n    default:\n      if (locale) {\n        return getStringWithLocale(thing, property, locale);\n      }\n      return getStringNoLocale(thing, property);\n  }\n}\n\nexport function getValueByTypeAll(\n  type: \"boolean\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getBooleanAll>;\n\nexport function getValueByTypeAll(\n  type: \"datetime\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDatetimeAll>;\n\nexport function getValueByTypeAll(\n  type: \"decimal\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getDecimalAll>;\n\nexport function getValueByTypeAll(\n  type: \"integer\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getIntegerAll>;\n\nexport function getValueByTypeAll(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocaleAll>;\n\nexport function getValueByTypeAll(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url,\n  locale: string\n): ReturnType<typeof getStringWithLocaleAll>;\n\nexport function getValueByTypeAll(\n  type: \"string\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getStringNoLocaleAll>;\n\nexport function getValueByTypeAll(\n  type: \"url\",\n  thing: Thing,\n  property: UrlString | Url\n): ReturnType<typeof getUrlAll>;\n\nexport function getValueByTypeAll(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): Array<string | boolean | number | Date | null>;\n\nexport function getValueByTypeAll(\n  type: DataType,\n  thing: Thing,\n  property: UrlString | Url,\n  locale?: string\n): Array<string | boolean | number | Date | null> {\n  switch (type) {\n    case \"boolean\":\n      return getBooleanAll(thing, property);\n    case \"datetime\":\n      return getDatetimeAll(thing, property);\n    case \"decimal\":\n      return getDecimalAll(thing, property);\n    case \"integer\":\n      return getIntegerAll(thing, property);\n    case \"url\":\n      return getUrlAll(thing, property);\n    default:\n      if (locale) {\n        return getStringWithLocaleAll(thing, property, locale);\n      }\n      return getStringNoLocaleAll(thing, property);\n  }\n}\n\nexport function getPropertyForThing(\n  propertySelector: typeof getValueByType | typeof getValueByTypeAll,\n  type: DataType,\n  thing: Thing,\n  properties: Array<Url | UrlString>,\n  locale?: string\n): Url | UrlString | undefined {\n  return (\n    properties.find((property: Url | UrlString) => {\n      return propertySelector(type, thing, property, locale);\n    }) || properties[0]\n  );\n}\n\nexport type UseProperty = {\n  dataset?: SolidDataset;\n  thing?: Thing;\n  error?: Error;\n  property: Url | UrlString;\n  value: string | boolean | number | Date | null;\n  setDataset: (dataset: SolidDataset) => void;\n  setThing: (thing: Thing) => void;\n};\n\nexport type UsePropertyProps = {\n  thing?: Thing;\n  dataset?: SolidDataset;\n  property?: Url | UrlString;\n  properties?: Url[] | UrlString[];\n  type: DataType;\n  locale?: string;\n};\n\nexport function useProperty(props: UsePropertyProps): UseProperty {\n  const {\n    dataset: propDataset,\n    thing: propThing,\n    properties: propProperties,\n    property: propProperty,\n    type,\n    locale,\n  } = props;\n\n  const { solidDataset: contextDataset, setDataset = () => {} } =\n    useContext(DatasetContext);\n\n  const dataset = propDataset || contextDataset;\n\n  const { thing: contextThing, setThing = () => {} } = useContext(ThingContext);\n\n  const thing = propThing || contextThing || undefined;\n  let error;\n\n  if (!thing) {\n    error = new Error(\"Thing not found as property or in context\");\n  }\n\n  const property =\n    thing && propProperties\n      ? getPropertyForThing(\n          getValueByType,\n          type,\n          thing,\n          propProperties,\n          locale\n        ) || propProperties[0]\n      : propProperty;\n\n  if (!property) {\n    throw new Error(\"No property provided\");\n  }\n\n  const value =\n    thing && property ? getValueByType(type, thing, property, locale) : null;\n\n  return {\n    dataset,\n    thing,\n    property,\n    error,\n    value,\n    setDataset,\n    setThing,\n  };\n}\n\nexport function useDatetimeBrowserSupport(): boolean | null {\n  const [isDatetimeSupported, setIsDatetimeSupported] = useState<\n    boolean | null\n  >(null);\n\n  useEffect(() => {\n    const test = document.createElement(\"input\");\n    test.type = \"datetime-local\";\n    setIsDatetimeSupported(test.type !== \"text\");\n  }, []);\n\n  return isDatetimeSupported;\n}\n\nexport async function updateDataset(\n  datasetUrl: string | Url,\n  setDataset: (dataset: SolidDataset) => void\n): Promise<void> {\n  const latestDataset = await getSolidDataset(datasetUrl);\n  setDataset(latestDataset);\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport { retrieveFile } from \"../../helpers\";\n\nexport default function useFile(url: string | undefined): {\n  error: Error | undefined;\n  inProgress: boolean;\n  data: Blob | undefined;\n} {\n  const [error, setError] = useState<Error | undefined>();\n  const [inProgress, setInProgress] = useState(false);\n  const [data, setData] = useState<Blob | undefined>();\n  const { fetch } = useContext(SessionContext);\n  useEffect(() => {\n    if (!url) return;\n    setInProgress(true);\n    retrieveFile(url, fetch)\n      .then((response) => {\n        setData(response);\n        setInProgress(false);\n      })\n      .catch((retrieveError) => {\n        setError(retrieveError);\n        setInProgress(false);\n      });\n  }, [url, fetch]);\n  return { error, inProgress, data };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState, useEffect, useContext } from \"react\";\nimport {\n  addUrl,\n  getSourceUrl,\n  removeUrl,\n  saveFileInContainer,\n  saveSolidDatasetAt,\n  setThing,\n  SolidDataset,\n} from \"@inrupt/solid-client\";\nimport { overwriteFile, CommonProperties, useProperty } from \"../../helpers\";\n\nimport { SessionContext } from \"../../context/sessionContext\";\nimport useFile from \"../../hooks/useFile\";\n\nexport type Props = {\n  maxSize?: number;\n  saveLocation?: string;\n  allowDelete?: boolean;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  solidDataset?: SolidDataset;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n  loadingComponent?: React.ComponentType | null;\n  deleteComponent?: React.ComponentType<{ onClick: () => void }> | null;\n} & CommonProperties &\n  React.ImgHTMLAttributes<HTMLImageElement>;\n\n/**\n * Fetches and displays an image, from a src found at a given property of a given [Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing). Can also be used to upload a new/replacement image file.\n */\nexport function Image({\n  thing: propThing,\n  property: propProperty,\n  properties: propProperties,\n  edit,\n  autosave,\n  allowDelete,\n  onSave,\n  onError,\n  maxSize,\n  alt,\n  inputProps,\n  errorComponent: ErrorComponent,\n  loadingComponent: LoadingComponent,\n  deleteComponent: DeleteComponent,\n  saveLocation,\n  solidDataset,\n  ...imgOptions\n}: Props): ReactElement | null {\n  const { fetch } = useContext(SessionContext);\n\n  const values = useProperty({\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"url\",\n  });\n\n  const { value, thing, error: thingError } = values;\n  let valueError;\n  if (!value) {\n    valueError = new Error(\"No value found for property.\");\n  }\n  const isFetchingThing = !thing && !thingError;\n\n  const [error, setError] = useState<Error | undefined>(\n    thingError ?? valueError\n  );\n\n  useEffect(() => {\n    if (error) {\n      if (onError) {\n        onError(error);\n      }\n    }\n  }, [error, onError, ErrorComponent]);\n\n  const [imgObjectUrl, setImgObjectUrl] = useState<string | undefined>();\n  const {\n    data,\n    error: imgError,\n    inProgress: fetchingFileInProgress,\n  } = useFile(value as string);\n\n  useEffect(() => {\n    if (fetchingFileInProgress) {\n      return;\n    }\n    if (imgError) {\n      setError(imgError);\n      return;\n    }\n    const imageObjectUrl = data && URL.createObjectURL(data);\n    if (imageObjectUrl) {\n      setImgObjectUrl(imageObjectUrl);\n    }\n  }, [data, fetchingFileInProgress, imgError]);\n\n  const handleDelete = async () => {\n    if (\n      !propThing ||\n      !solidDataset ||\n      !propProperty ||\n      typeof value !== \"string\" ||\n      !autosave\n    ) {\n      return;\n    }\n\n    try {\n      const updatedThing = removeUrl(propThing, propProperty, value);\n      const updatedDataset = setThing(solidDataset, updatedThing);\n      const datasetSourceUrl = getSourceUrl(solidDataset);\n      if (!datasetSourceUrl) return;\n      await saveSolidDatasetAt(datasetSourceUrl, updatedDataset, {\n        fetch,\n      });\n    } catch (e) {\n      setError(e as Error);\n    }\n  };\n\n  const handleChange = async (input: EventTarget & HTMLInputElement) => {\n    const fileList = input.files;\n    if (autosave && fileList && fileList.length > 0) {\n      if (value) {\n        const newObjectUrl = await overwriteFile(\n          value as string,\n          fileList[0],\n          input,\n          fetch,\n          maxSize,\n          onSave,\n          onError\n        );\n\n        if (newObjectUrl) {\n          setImgObjectUrl(newObjectUrl);\n        }\n      } else if (!value && saveLocation) {\n        const savedFile = await saveFileInContainer(saveLocation, fileList[0], {\n          fetch,\n        });\n        const savedFileUrl = getSourceUrl(savedFile);\n        if (savedFileUrl && propThing && propProperty && solidDataset) {\n          setImgObjectUrl(savedFileUrl);\n          try {\n            const updatedThing = addUrl(propThing, propProperty, savedFileUrl);\n            const updatedDataset = setThing(solidDataset, updatedThing);\n            const datasetSourceUrl = getSourceUrl(solidDataset);\n            if (!datasetSourceUrl) return;\n            await saveSolidDatasetAt(datasetSourceUrl, updatedDataset, {\n              fetch,\n            });\n          } catch (e) {\n            setError(e as Error);\n          }\n        }\n      }\n    }\n  };\n\n  let imageComponent = null;\n\n  if (isFetchingThing || fetchingFileInProgress) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    imageComponent = ErrorComponent ? (\n      <ErrorComponent error={error} />\n    ) : (\n      <span>{error.toString()}</span>\n    );\n  } else if (value) {\n    /* eslint-disable-next-line react/jsx-props-no-spreading */\n    imageComponent = <img src={imgObjectUrl} alt={alt ?? \"\"} {...imgOptions} />;\n  }\n\n  return (\n    <>\n      {imageComponent}\n      {edit && (\n        <input\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={(e) => handleChange(e.target)}\n        />\n      )}\n      {allowDelete &&\n        (DeleteComponent ? (\n          <DeleteComponent onClick={handleDelete} />\n        ) : (\n          <button type=\"button\" onClick={handleDelete}>\n            Delete\n          </button>\n        ))}\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setDatetime,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport {\n  useProperty,\n  useDatetimeBrowserSupport,\n  updateDataset,\n} from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype DatetimeProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst DatetimeValue: React.FC<DatetimeProps> = (props: DatetimeProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"datetime\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  const isDatetimeSupported = useDatetimeBrowserSupport();\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue = thingValue\n    ? (thingValue as Date)\n        .toISOString()\n        .substring(0, (thingValue as Date).toISOString().length - 5)\n    : null;\n\n  const [value, setValue] = useState<string>(formattedValue as string);\n\n  let initialDateValue = \"\";\n  if (!isDatetimeSupported) {\n    initialDateValue = value?.split(/T(.+)/)[0].toString();\n  }\n\n  let initialTimeValue = \"00:00\";\n  if (!isDatetimeSupported) {\n    initialTimeValue = value?.split(/T(.+)/)[1]?.toString();\n  }\n\n  const [time, setTime] = useState<string>(initialTimeValue);\n  const [date, setDate] = useState<string>(initialDateValue);\n\n  useEffect(() => {\n    if ((!time && !date) || isDatetimeSupported) return;\n    setValue(`${date ?? \"\"}T${time ?? \"00:00\"}`);\n  }, [time, date, isDatetimeSupported]);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const datetimeValue = value;\n\n      const updatedResource = setDatetime(\n        thing,\n        property,\n        new Date(`${datetimeValue}Z`)\n      );\n\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  let inputType: string;\n\n  if (isDatetimeSupported) {\n    inputType = \"datetime-local\";\n  } else {\n    inputType = \"datetime-workaround\";\n  }\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && inputType === \"datetime-local\" && (\n        <input\n          type={inputType}\n          aria-label=\"Date and Time\"\n          step=\"any\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n          pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}\"\n          placeholder=\"yyyy-mm-ddThh:mm\"\n        />\n      )}\n      {edit && dataset && thing && inputType === \"datetime-workaround\" && (\n        <>\n          <input\n            type=\"date\"\n            aria-label=\"Date\"\n            step=\"any\"\n            // eslint-disable-next-line react/jsx-props-no-spreading\n            {...inputProps}\n            onChange={(e) => {\n              setDate(e.target.value);\n            }}\n            onBlur={(e) => autosave && saveHandler(e)}\n            value={date}\n            pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}\"\n            placeholder=\"yyyy-mm-dd\"\n          />\n          <input\n            type=\"time\"\n            aria-label=\"Time\"\n            value={time}\n            onChange={(e) => setTime(e.target.value)}\n            onBlur={(e) => autosave && saveHandler(e)}\n            pattern=\"[0-9]{2}:[0-9]{2}\"\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nDatetimeValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default DatetimeValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setStringWithLocale,\n  setStringNoLocale,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype StringProps = Omit<Props, \"dataType\">;\n\nconst StringValue: React.FC<StringProps> = (props: StringProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    locale,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"string\",\n    property: propProperty,\n    properties: propProperties,\n    locale,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      let updatedResource;\n      if (locale) {\n        updatedResource = setStringWithLocale(\n          thing,\n          property,\n          value as string,\n          locale\n        );\n      } else {\n        updatedResource = setStringNoLocale(thing, property, value as string);\n      }\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{value}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"text\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nStringValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default StringValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setBoolean,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype BooleanProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst BooleanValue: React.FC<BooleanProps> = (props: BooleanProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"boolean\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  let formattedValue = thingValue;\n  let initialBooleanValue = false;\n  initialBooleanValue = (thingValue as boolean | null) ?? false;\n  formattedValue = initialBooleanValue.toString();\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  const [booleanValue, setBooleanValue] =\n    useState<boolean>(initialBooleanValue);\n\n  useEffect(() => {\n    setValue(booleanValue.toString());\n  }, [booleanValue]);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setBoolean(thing, property, booleanValue);\n\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"checkbox\"\n          checked={booleanValue}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setBooleanValue(e.target.checked);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nBooleanValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default BooleanValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setUrl,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype UrlProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst UrlValue: React.FC<UrlProps> = (props: UrlProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"url\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setUrl(thing, property, value as string);\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"url\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nUrlValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default UrlValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setInteger,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype IntegerProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst IntegerValue: React.FC<IntegerProps> = (props: IntegerProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"integer\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setInteger(\n        thing,\n        property,\n        parseInt(value as string, 10)\n      );\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"number\"\n          step=\"any\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nIntegerValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default IntegerValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport {\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n  setDecimal,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../../context/sessionContext\";\n\nimport { updateDataset, useProperty } from \"../../../helpers\";\nimport { Props } from \"..\";\n\ntype DecimalProps = Omit<Props, \"locale\" | \"dataType\">;\n\nconst DecimalValue: React.FC<DecimalProps> = (props: DecimalProps) => {\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    saveDatasetTo,\n    onSave,\n    onError,\n    edit,\n    autosave,\n    inputProps,\n    ...other\n  } = props;\n\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    value: thingValue,\n    thing,\n    property,\n    dataset,\n    setDataset,\n    error,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    type: \"decimal\",\n    property: propProperty,\n    properties: propProperties,\n  });\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const formattedValue: string = thingValue?.toString() ?? \"\";\n\n  const [value, setValue] = useState<string>(formattedValue);\n\n  /* Save Value value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (\n      formattedValue !== value &&\n      thing &&\n      dataset &&\n      e.target.reportValidity()\n    ) {\n      const updatedResource = setDecimal(\n        thing,\n        property,\n        parseFloat(value as string)\n      );\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else if (onError) {\n          onError(\n            new Error(\"Please provide saveDatasetTo location for new data\")\n          );\n        }\n\n        if (!error && onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{`${value}`}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type=\"number\"\n          step=\"any\"\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onChange={(e) => {\n            setValue(e.target.value);\n          }}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={value}\n        />\n      )}\n    </>\n  );\n};\n\nDecimalValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n\nexport default DecimalValue;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState } from \"react\";\nimport { Url, UrlString } from \"@inrupt/solid-client\";\n\nimport { DataType, CommonProperties, useProperty } from \"../../helpers\";\nimport DatetimeValue from \"./datetime\";\nimport StringValue from \"./string\";\nimport BooleanValue from \"./boolean\";\nimport UrlValue from \"./url\";\nimport IntegerValue from \"./integer\";\nimport DecimalValue from \"./decimal\";\n\nexport type Props = {\n  dataType: DataType;\n  saveDatasetTo?: Url | UrlString;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  locale?: string;\n  loadingComponent?: React.ComponentType | null;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n} & CommonProperties;\n\n/**\n * Retrieves and displays a value of one of a range of types from a given [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset)/[Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing)/property. Can also be used to set/update and persist a value.\n */\nexport function Value(props: Props): ReactElement | null {\n  const { dataType, ...otherProps } = props as Props;\n  const {\n    thing: propThing,\n    solidDataset: propDataset,\n    property: propProperty,\n    properties: propProperties,\n    edit,\n    loadingComponent: LoadingComponent,\n    errorComponent: ErrorComponent,\n    locale,\n  } = otherProps;\n  const {\n    thing,\n    value,\n    error: thingError,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: dataType,\n    locale,\n  });\n\n  let valueError;\n  if (!edit && !value && dataType !== \"boolean\") {\n    valueError = new Error(\"No value found for property.\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error] = useState<Error | undefined>(thingError ?? valueError);\n\n  if (isFetchingThing) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    if (ErrorComponent) {\n      return <ErrorComponent error={error} />;\n    }\n    return <span>{error.toString()}</span>;\n  }\n\n  let Component: React.FC<Omit<Props, \"dataType\">> = StringValue;\n\n  switch (dataType) {\n    case \"boolean\":\n      Component = BooleanValue;\n      break;\n    case \"datetime\":\n      Component = DatetimeValue;\n      break;\n    case \"decimal\":\n      Component = DecimalValue;\n      break;\n    case \"integer\":\n      Component = IntegerValue;\n      break;\n    case \"url\":\n      Component = UrlValue;\n      break;\n    default:\n      Component = StringValue;\n  }\n\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <Component {...otherProps} />;\n}\n\nValue.defaultProps = {\n  autosave: false,\n  edit: false,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState } from \"react\";\n\nimport { CommonProperties, useProperty } from \"../../helpers\";\nimport { Value } from \"../value\";\n\nexport type Props = {\n  loadingComponent?: React.ComponentType | null;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n} & CommonProperties &\n  React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\n/**\n * Retrieves a URL from given [Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing)/property, and renders as an anchor tag with the given href.\n */\nexport function Link({\n  children,\n  property: propProperty,\n  properties: propProperties,\n  thing: propThing,\n  solidDataset,\n  autosave,\n  rel,\n  target,\n  edit,\n  loadingComponent: LoadingComponent,\n  errorComponent: ErrorComponent,\n  onSave,\n  onError,\n  ...linkOptions\n}: Props): ReactElement | null {\n  const {\n    value: href,\n    thing,\n    property,\n    dataset,\n    error: thingError,\n  } = useProperty({\n    dataset: solidDataset,\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"url\",\n  });\n\n  let valueError;\n  if (!edit && !href) {\n    valueError = new Error(\"URL not found for given property\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error] = useState<Error | undefined>(thingError ?? valueError);\n\n  if (isFetchingThing) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    if (ErrorComponent) {\n      return <ErrorComponent error={error} />;\n    }\n    return <span>{error.toString()}</span>;\n  }\n  const adjustedRel =\n    rel || (target === \"_blank\" ? \"noopener noreferrer\" : \"nofollow\");\n\n  if (edit) {\n    return (\n      <Value\n        dataType=\"url\"\n        solidDataset={dataset}\n        thing={thing}\n        property={property as string}\n        autosave={autosave}\n        onSave={onSave}\n        onError={onError}\n        edit\n      />\n    );\n  }\n\n  return (\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <a href={href as string} rel={adjustedRel} target={target} {...linkOptions}>\n      {children ?? href}\n    </a>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { ILoginInputOptions } from \"@inrupt/solid-client-authn-core\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport interface Props {\n  authOptions?: ILoginInputOptions;\n  children?: React.ReactNode;\n  onError?(error: Error): void;\n  oidcIssuer: string;\n  redirectUrl: string;\n}\n\n/**\n * Displays a button which triggers the login flow on click. Should be used inside a `SessionProvider`.\n */\nexport const LoginButton: React.FC<Props> = ({\n  oidcIssuer,\n  redirectUrl,\n  children,\n  authOptions,\n  onError,\n}: Props) => {\n  const options = {\n    redirectUrl,\n    oidcIssuer,\n    ...authOptions,\n  };\n\n  const { login, setSessionRequestInProgress } = useContext(SessionContext);\n\n  async function loginHandler() {\n    setSessionRequestInProgress(true);\n\n    try {\n      // Workaround for a solid-client-authn bug.\n      // Typescript is mad about something.\n      await login(options as any);\n      setSessionRequestInProgress(false);\n    } catch (error) {\n      setSessionRequestInProgress(false);\n      if (onError) onError(error as Error);\n    }\n  }\n\n  function keyDownHandler(\n    e: React.KeyboardEvent<HTMLDivElement | HTMLButtonElement>\n  ): Promise<void> {\n    e.preventDefault();\n\n    return e.key === \"Enter\" ? loginHandler() : Promise.resolve();\n  }\n\n  return children ? (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={loginHandler}\n      onKeyDown={keyDownHandler}\n    >\n      {children}\n    </div>\n  ) : (\n    <button type=\"button\" onClick={loginHandler} onKeyDown={keyDownHandler}>\n      Log In\n    </button>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport interface Props {\n  onLogout?(): void;\n  onError?(error: Error): void;\n  children?: React.ReactElement;\n}\n\n/**\n * Renders a button which triggers logout on click. Should be used within a `SessionProvider`.\n */\nexport const LogoutButton: React.FC<Props> = ({\n  children,\n  onLogout,\n  onError,\n}: Props) => {\n  const { logout } = useContext(SessionContext);\n\n  async function logoutHandler() {\n    try {\n      await logout();\n      if (onLogout) onLogout();\n    } catch (error) {\n      if (onError) onError(error as Error);\n    }\n  }\n\n  function keyDownHandler(\n    e: React.KeyboardEvent<HTMLDivElement | HTMLButtonElement>\n  ): Promise<void> {\n    e.preventDefault();\n\n    return e.key === \"Enter\" ? logoutHandler() : Promise.resolve();\n  }\n\n  return children ? (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={logoutHandler}\n      onKeyDown={keyDownHandler}\n    >\n      {children}\n    </div>\n  ) : (\n    <button type=\"button\" onClick={logoutHandler} onKeyDown={keyDownHandler}>\n      Log Out\n    </button>\n  );\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement } from \"react\";\n\nimport {\n  Thing,\n  SolidDataset,\n  WithResourceInfo,\n  UrlString,\n} from \"@inrupt/solid-client\";\n\nimport { DatasetProvider } from \"../datasetContext\";\nimport { ThingProvider } from \"../thingContext\";\n\nexport type Props = {\n  children: React.ReactNode;\n  loadingComponent?: React.ComponentType | null;\n  onError?(error: Error): void | null;\n};\n\nexport type ThingOrThingUrl = {\n  thing?: Thing;\n  thingUrl?: UrlString | string;\n};\n\nexport interface Dataset extends Props {\n  solidDataset: SolidDataset | (SolidDataset & WithResourceInfo);\n}\n\nexport interface DatasetUrl extends Props {\n  datasetUrl: UrlString | string;\n}\n\nexport type RequireProperty<T, Prop extends keyof T> = T & {\n  [key in Prop]-?: T[key];\n};\n\nexport type RequireThingOrThingUrl =\n  | RequireProperty<ThingOrThingUrl, \"thing\">\n  | RequireProperty<ThingOrThingUrl, \"thingUrl\">;\n\n// TODO: naming of this provider TBC\nfunction CombinedDataProvider(\n  props: Dataset & RequireThingOrThingUrl\n): ReactElement;\n\nfunction CombinedDataProvider(\n  props: DatasetUrl & RequireThingOrThingUrl\n): ReactElement;\n\n/**\n * Used to provide both a [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset) and [Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing) to child components through context, as used by various provided components and the useDataset and useThing hooks.\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction CombinedDataProvider(props: any): ReactElement {\n  const {\n    children,\n    solidDataset,\n    datasetUrl,\n    thing,\n    thingUrl,\n    onError,\n    loadingComponent,\n  } = props;\n\n  return (\n    <DatasetProvider\n      onError={onError}\n      solidDataset={solidDataset}\n      datasetUrl={datasetUrl}\n      loadingComponent={loadingComponent}\n    >\n      <ThingProvider thing={thing} thingUrl={thingUrl}>\n        {children}\n      </ThingProvider>\n    </DatasetProvider>\n  );\n}\n\nexport default CombinedDataProvider;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable react/jsx-props-no-spreading */\n\nimport React, { ReactElement, useMemo, Children, ReactNode } from \"react\";\nimport { SolidDataset, Thing, Url, UrlString } from \"@inrupt/solid-client\";\nimport {\n  useTable,\n  Column,\n  Row,\n  useSortBy,\n  useGlobalFilter,\n  Renderer,\n  CellProps,\n  HeaderProps,\n} from \"react-table\";\nimport { DataType, getValueByType, getValueByTypeAll } from \"../../helpers\";\nimport CombinedDataProvider from \"../../context/combinedDataContext\";\n\nexport type TableColumnProps = {\n  body?: Renderer<CellProps<any>>;\n  header?: Renderer<HeaderProps<any>> | string;\n  property: Url | UrlString;\n  dataType?: DataType;\n  locale?: string;\n  multiple?: boolean;\n  sortable?: boolean;\n  sortFn?: (a: any, b: any) => number;\n  filterable?: boolean;\n  children?: undefined | null | [];\n};\n\n/**\n * To be used as the only children of a Table component. Each column represents one property of the Things passed to the Table.\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function TableColumn(props: TableColumnProps): ReactElement {\n  throw new Error(\"Can't use TableColumn outside a Table.\");\n}\n\nexport interface TableProps\n  extends React.TableHTMLAttributes<HTMLTableElement> {\n  children?:\n    | ReactElement<TableColumnProps>\n    | Array<ReactElement<TableColumnProps>>;\n  emptyStateComponent?: React.ComponentType | null;\n  things: Array<{ dataset: SolidDataset; thing: Thing }>;\n  filter?: string;\n  ascIndicator?: ReactNode;\n  descIndicator?: ReactNode;\n  getRowProps: (\n    row: Row,\n    rowThing: Thing,\n    rowDataset: SolidDataset\n  ) => React.HTMLAttributes<HTMLTableRowElement>;\n}\n\n/**\n * Displays values from an array of [Things](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing) as table rows, with each column showing a given property of those [Things](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing).\n */\nexport function Table({\n  children,\n  emptyStateComponent: EmptyStateComponent,\n  things,\n  filter,\n  ascIndicator,\n  descIndicator,\n  getRowProps,\n  ...tableProps\n}: TableProps): ReactElement | null {\n  const { columns, data } = useMemo(() => {\n    const columnsArray: Array<Column<Record<string, unknown>>> = [];\n    const dataArray: Array<Record<string, unknown>> = things.map(() => ({}));\n\n    // loop through each column\n    Children.forEach(children, (column, colIndex) => {\n      if (column) {\n        const {\n          property,\n          header,\n          body,\n          dataType = \"string\",\n          locale,\n          multiple = false,\n          sortable,\n          sortFn,\n          filterable,\n        } = column.props;\n        // add heading\n\n        columnsArray.push({\n          Header: header ?? `${property}`,\n          accessor: `col${colIndex}`,\n          disableGlobalFilter: !filterable,\n          disableSortBy: !sortable,\n          Cell: body ?? (({ value }: any) => (value != null ? `${value}` : \"\")),\n        });\n\n        if (sortFn) {\n          const sortFunction = (a: Row, b: Row, columnId: string) => {\n            const valueA = a.values[columnId];\n            const valueB = b.values[columnId];\n            return sortFn(valueA, valueB);\n          };\n          columnsArray[colIndex].sortType = sortFunction;\n        } else {\n          if (dataType === \"string\") {\n            columnsArray[colIndex].sortType = dataType;\n          }\n          if (dataType === \"integer\" || dataType === \"decimal\") {\n            columnsArray[colIndex].sortType = \"number\";\n          }\n        }\n\n        // add each each value to data\n        things.forEach((thing, i) => {\n          dataArray[i][`col${colIndex}`] = multiple\n            ? getValueByTypeAll(dataType, thing.thing, property, locale)\n            : getValueByType(dataType, thing.thing, property, locale);\n        });\n      }\n    });\n\n    return { columns: columnsArray, data: dataArray };\n  }, [children, things]);\n\n  const tableInstance = useTable(\n    {\n      columns,\n      data,\n      initialState: { globalFilter: filter || undefined },\n    },\n    useGlobalFilter,\n    useSortBy\n  );\n\n  const { getTableProps, getTableBodyProps, headerGroups, rows, prepareRow } =\n    tableInstance;\n  if (!rows.length) {\n    if (EmptyStateComponent) {\n      return <EmptyStateComponent />;\n    }\n    return null;\n  }\n  return (\n    <table {...getTableProps()} {...tableProps}>\n      <thead>\n        {headerGroups.map((headerGroup) => (\n          <tr {...headerGroup.getHeaderGroupProps()}>\n            {headerGroup.headers.map((column) => (\n              <th {...column.getHeaderProps(column.getSortByToggleProps())}>\n                {column.render(\"Header\")}\n                {column.isSorted &&\n                  (column.isSortedDesc ? descIndicator : ascIndicator)}\n              </th>\n            ))}\n          </tr>\n        ))}\n      </thead>\n      <tbody {...getTableBodyProps()}>\n        {rows.map((row) => {\n          prepareRow(row);\n          const rowDataset = things[row.index].dataset;\n          const rowThing = things[row.index].thing;\n          return (\n            <tr {...row.getRowProps(getRowProps(row, rowThing, rowDataset))}>\n              <CombinedDataProvider solidDataset={rowDataset} thing={rowThing}>\n                {row.cells.map((cell) => {\n                  return (\n                    <td {...cell.getCellProps()}>{cell.render(\"Cell\")}</td>\n                  );\n                })}\n              </CombinedDataProvider>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n\nTable.defaultProps = {\n  filter: undefined,\n  ascIndicator: (\n    <span role=\"img\" aria-label=\"Sorted in ascending order\">\n      {\" \"}\n      🔼\n    </span>\n  ),\n  descIndicator: (\n    <span role=\"img\" aria-label=\"Sorted in descending order\">\n      {\" \"}\n      🔽\n    </span>\n  ),\n  getRowProps: () => ({}),\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useState, useEffect, useContext } from \"react\";\nimport {\n  Thing,\n  Url,\n  UrlString,\n  setStringWithLocale,\n  setStringNoLocale,\n  setThing,\n  saveSolidDatasetAt,\n  getSourceUrl,\n  hasResourceInfo,\n} from \"@inrupt/solid-client\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport { CommonProperties, updateDataset, useProperty } from \"../../helpers\";\n\nexport type Props = {\n  saveDatasetTo?: Url | UrlString;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  locale?: string;\n  loadingComponent?: React.ComponentType | null;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n} & CommonProperties;\n\n/**\n * Retrieves and displays a string from a given [Dataset](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-SolidDataset)/[Thing](https://docs.inrupt.com/developer-tools/javascript/client-libraries/reference/glossary/#term-Thing)/property. Can also be used to set/update and persist a string value.\n */\nexport function Text({\n  thing: propThing,\n  solidDataset: propDataset,\n  property: propProperty,\n  properties: propProperties,\n  saveDatasetTo,\n  locale,\n  onSave,\n  onError,\n  inputProps,\n  errorComponent: ErrorComponent,\n  loadingComponent: LoadingComponent,\n  edit = false,\n  autosave = false,\n  ...other\n}: Props & React.HTMLAttributes<HTMLSpanElement>): ReactElement | null {\n  const { fetch } = useContext(SessionContext);\n\n  const {\n    error: thingError,\n    value,\n    thing,\n    property,\n    dataset,\n    setDataset,\n  } = useProperty({\n    dataset: propDataset,\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"string\",\n    locale,\n  });\n\n  let valueError;\n  if (!edit && !value) {\n    valueError = new Error(\"No value found for property.\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error] = useState<Error | undefined>(thingError ?? valueError);\n\n  useEffect(() => {\n    if (error && onError) {\n      onError(error);\n    }\n  }, [error, onError]);\n\n  const [text, setText] = useState<string | null>(value as string);\n  const [, setErrorState] = useState<string | null>();\n  const [initialValue, setInitialValue] = useState<string | null>(\n    value as string\n  );\n\n  /* Save text value in the pod */\n  const saveHandler = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (initialValue !== e.target.value && thing && dataset) {\n      const newValue = e.target.value;\n      let updatedResource: Thing;\n      if (locale) {\n        updatedResource = setStringWithLocale(\n          thing,\n          property,\n          newValue,\n          locale\n        );\n      } else {\n        updatedResource = setStringNoLocale(thing, property, newValue);\n      }\n\n      try {\n        let savedDataset;\n        if (saveDatasetTo) {\n          savedDataset = await saveSolidDatasetAt(\n            saveDatasetTo,\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(saveDatasetTo, setDataset);\n        } else if (hasResourceInfo(dataset)) {\n          savedDataset = await saveSolidDatasetAt(\n            getSourceUrl(dataset),\n            setThing(dataset, updatedResource),\n            { fetch }\n          );\n          await updateDataset(getSourceUrl(dataset), setDataset);\n        } else {\n          setErrorState(() => {\n            throw new Error(\n              \"Please provide saveDatasetTo location for new data\"\n            );\n          });\n        }\n\n        if (onSave) {\n          onSave(savedDataset, updatedResource);\n        }\n      } catch (saveError) {\n        if (onError) {\n          onError(saveError as Error);\n        }\n      }\n    }\n  };\n\n  if (isFetchingThing) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    if (ErrorComponent) {\n      return <ErrorComponent error={error} />;\n    }\n    return <span>{error.toString()}</span>;\n  }\n\n  return (\n    <>\n      {\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        !edit && dataset && thing && <span {...other}>{text}</span>\n      }\n      {edit && dataset && thing && (\n        <input\n          type={inputProps && inputProps.type ? inputProps.type : \"text\"}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          onFocus={(e) => setInitialValue(e.target.value)}\n          onChange={(e) => setText(e.target.value)}\n          onBlur={(e) => autosave && saveHandler(e)}\n          value={text || \"\"}\n        />\n      )}\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { ReactElement, useEffect, useState, useContext } from \"react\";\nimport { overwriteFile, CommonProperties, useProperty } from \"../../helpers\";\nimport { SessionContext } from \"../../context/sessionContext\";\nimport useFile from \"../../hooks/useFile\";\n\nexport type Props = {\n  maxSize?: number;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  errorComponent?: React.ComponentType<{ error: Error }>;\n  loadingComponent?: React.ComponentType | null;\n} & CommonProperties &\n  React.VideoHTMLAttributes<HTMLVideoElement>;\n\n/**\n * Fetches and displays a video, from a src found at a given property of a given Thing. Can also be used to upload a new/replacement video file.\n */\nexport function Video({\n  property: propProperty,\n  properties: propProperties,\n  thing: propThing,\n  edit,\n  autosave,\n  onSave,\n  onError,\n  maxSize,\n  inputProps,\n  errorComponent: ErrorComponent,\n  loadingComponent: LoadingComponent,\n  ...videoOptions\n}: Props): ReactElement | null {\n  const { fetch } = useContext(SessionContext);\n\n  const values = useProperty({\n    thing: propThing,\n    property: propProperty,\n    properties: propProperties,\n    type: \"url\",\n  });\n\n  const { value, thing, error: thingError } = values;\n  let valueError;\n  if (!edit && !value) {\n    valueError = new Error(\"No value found for property.\");\n  }\n\n  const isFetchingThing = !thing && !thingError;\n\n  const [error, setError] = useState<Error | undefined>(\n    thingError ?? valueError\n  );\n\n  useEffect(() => {\n    if (error) {\n      if (onError) {\n        onError(error);\n      }\n    }\n  }, [error, onError, ErrorComponent]);\n\n  const [videoObjectUrl, setVideoObjectUrl] = useState(\"\");\n\n  const {\n    data,\n    error: videoError,\n    inProgress: fetchingVideoInProgress,\n  } = useFile(value as string);\n\n  useEffect(() => {\n    if (fetchingVideoInProgress) {\n      return;\n    }\n    if (videoError) {\n      setError(videoError);\n      return;\n    }\n    const videoObjectURL = data && URL.createObjectURL(data);\n    if (videoObjectURL) {\n      setVideoObjectUrl(videoObjectURL);\n    }\n  }, [data, fetchingVideoInProgress, videoError]);\n\n  const handleChange = async (input: EventTarget & HTMLInputElement) => {\n    const fileList = input.files;\n    if (autosave && fileList && fileList.length > 0 && value) {\n      const newObjectUrl = await overwriteFile(\n        value as string,\n        fileList[0],\n        input,\n        fetch,\n        maxSize,\n        onSave,\n        onError\n      );\n      if (newObjectUrl) {\n        setVideoObjectUrl(newObjectUrl);\n      }\n    }\n  };\n\n  let videoComponent = null;\n\n  if (isFetchingThing || fetchingVideoInProgress) {\n    let loader: JSX.Element | null = (LoadingComponent && (\n      <LoadingComponent />\n    )) || <span>fetching data in progress</span>;\n    if (LoadingComponent === null) {\n      loader = null;\n    }\n    return loader;\n  }\n\n  if (error) {\n    videoComponent = ErrorComponent ? (\n      <ErrorComponent error={error} />\n    ) : (\n      <span>{error.toString()}</span>\n    );\n  } else if (value) {\n    videoComponent = (\n      /* eslint jsx-a11y/media-has-caption: 0, react/jsx-props-no-spreading: 0 */\n      <video\n        src={videoObjectUrl || (value as string)}\n        controls\n        {...videoOptions}\n      />\n    );\n  }\n\n  return (\n    <>\n      {videoComponent}\n      {edit && (\n        <input\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...inputProps}\n          type=\"file\"\n          accept=\"video/*\"\n          onChange={(e) => handleChange(e.target)}\n        />\n      )}\n    </>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useContext } from \"react\";\nimport {\n  ILoginInputOptions,\n  Session,\n} from \"@inrupt/solid-client-authn-browser\";\nimport { SessionContext } from \"../../context/sessionContext\";\n\nexport interface SessionInfo {\n  session: Session;\n  sessionRequestInProgress: boolean;\n  fetch: typeof window.fetch;\n  login: (options: ILoginInputOptions) => Promise<void>;\n  logout: () => Promise<void>;\n}\n\nexport default function useSession(): SessionInfo {\n  const { session, sessionRequestInProgress, fetch, login, logout } =\n    useContext(SessionContext);\n\n  return {\n    session,\n    sessionRequestInProgress,\n    fetch,\n    login,\n    logout,\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { getThing, Thing } from \"@inrupt/solid-client\";\nimport { useContext } from \"react\";\nimport ThingContext from \"../../context/thingContext\";\nimport useDataset from \"../useDataset\";\n\nexport default function useThing(\n  datasetIri?: string | null | undefined,\n  thingIri?: string | null | undefined,\n  // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\n  options?: any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): { thing?: Thing | null; error: any } {\n  const { dataset, error } = useDataset(datasetIri, options);\n  const { thing: thingFromContext } = useContext(ThingContext);\n  if (!thingIri) {\n    return { thing: thingFromContext || undefined, error };\n  }\n\n  if (!dataset) {\n    return { thing: null, error };\n  }\n\n  const thing = getThing(dataset, thingIri);\n  return { thing, error };\n}\n"],"names":["createContext","login","logout","fetch","getDefaultSession","useState","useEffect","onSessionRestoreClient","handleIncomingRedirect","getProfileAll","useContext","saveFileInContainer","getSolidDataset","getThing","solidOverwriteFile","getFile","getBoolean","getDatetime","getDecimal","getInteger","getUrl","getStringWithLocale","getStringNoLocale","getBooleanAll","getDatetimeAll","getDecimalAll","getIntegerAll","getUrlAll","getStringWithLocaleAll","getStringNoLocaleAll","removeUrl","setThing","getSourceUrl","saveSolidDatasetAt","addUrl","setDatetime","hasResourceInfo","setStringWithLocale","setStringNoLocale","setBoolean","setUrl","setInteger","setDecimal","useMemo","Children","useTable","useGlobalFilter","useSortBy"],"mappings":"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"}